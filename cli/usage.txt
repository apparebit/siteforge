> <mode>? siteforge <option>* <task>*

The site:forge static website generator can perform the following <b>tasks</b>:

  build            Build the entire website
  serve            Locally serve website while updating build as necessary
  validate         Validate the website with the Nu Html Checker
  deploy           Deploy the website (requires NODE_ENV to be `production`)

The <b>serve task</b> forces site:forge into development mode and hence clears
`NODE_ENV`. It also is incompatible with the validate and deploy tasks. In
contrast, the <b>deploy task</b> can only run in production mode.

The following <b>options</b> further control task execution. If a project
follows the naming conventions documented below, the use of options should be
mostly unnecessary.

                            <b>Version and Help</b>

  -V, --version             Display tool version, exit before running tasks
  -h, --help                Display tool help, exit before running tasks

If either help option is specified, site:forge ignores tasks and other options.

                                <b>Logging</b>

  -v, --verbose             Increase the volume by one level
  -q, --quiet               Decrease the volume by one level
  --json                    Format output in newline-separated JSON instead of
                            (colorful) plain text.

If the only command line argument is "-v", "-vh", or "-hv", site:forge treats
the then ineffective "-v" option as a more informative "-V" option. The default
volume is 0, which logs `info`, `warning`, `error`, but not `debug`, `trace`.

                     <b>Input: Directories and Files</b>

  --content-dir <path>      Read content from directory ("./content")
  --component-dir <path>    Read components from directory ("./components")
                            before falling back on builtin module loader
  --page-provider <spec>    Use component for page layout ("layout/page.js")

                              <b>Exclusions</b>

  --do-not-build <glob>     Exclude matching files from build and serve
  --do-not-validate <glob>  Exclude matching files from validation

  --clean-run               Delete previous build instead of overwriting files
  --dry-run                 Run code but do not persist results; incompatible
                            with develop task

                               <b>Content</b>

  --static-assets <glob>    Treat JavaScript files as static assets, not as
                            views ("**/asset/**|**/assets/**|**/static/**")
  --version-assets          Version scripts and styles by injecting a hash of
                            that content into the filename.
  --copyright <notice>      Prepend copyright notice to scripts and styles

               <b>Output: Directory, Local Server, Remote host</b>

  --build-dir <path>        Write build to directory ("./build/dev" and
                            "./build/prod" depending on mode)
  --tls-cert <path>         Read TLS certificate ("./config/localhost.cert")
  --tls-key <path>          Read TLS key from file ("./config/localhost.key")
  --deployment-dir <rhost>  Copy build to rsync host and directory


site:forge also recognizes the following <b>environment variables</b>:

  NO_COLOR                  If defined, log without color
  NODE_DISABLE_COLORS       If defined, log without color
  NODE_ENV                  Determine tool mode; to enable deployment, run as
                            `NODE_ENV=production siteforge ...`


site:forge is Â© 2019-2020 Robert Grimm

